CMAKE_MINIMUM_REQUIRED(VERSION 2.6)

PROJECT(DemoApplication)

SET(CMAKE_MODULE_PATH "${PROJECT_SOURCE_DIR}/CMakeModules;${CMAKE_MODULE_PATH}")

SET_PROPERTY(GLOBAL PROPERTY USE_FOLDERS ON)
SET_PROPERTY(GLOBAL PROPERTY PREDEFINED_TARGETS_FOLDER "CMake Targets")

IF (${CMAKE_SYSTEM_NAME} STREQUAL "Linux")
    SET(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -std=gnu++0x")
ENDIF()

INCLUDE(MacroUtils)

FIND_PACKAGE(GLFW)
FIND_PACKAGE(assimp)
FIND_PACKAGE(AntTweakBar)

IF (UNIX)
	FIND_PACKAGE(X11 REQUIRED)

	FIND_PACKAGE(OpenGL REQUIRED)
	ADD_DEFINITIONS(${OpenGL_DEFINITIONS})

	FIND_PACKAGE(Threads REQUIRED)
ENDIF (UNIX)

SET(CMAKE_INCLUDE_PATH CACHE STRING "Put your include dir here...")
SET(CMAKE_LIBRARY_PATH CACHE STRING "Put your lib dir here...")

SET(CMAKE_DEBUG_POSTFIX "d")

ADD_DEFINITIONS(-DGLEW_STATIC)

OPTION(USE_CORE_PROFILE "Enable to use core profile" OFF)
IF (USE_CORE_PROFILE)
	ADD_DEFINITIONS(-DUSE_CORE_PROFILE)
ENDIF (USE_CORE_PROFILE)

OPTION(USE_GLSL_130 "Enable to use GLSL version 130" OFF)

INCLUDE_DIRECTORIES(
	${CMAKE_INCLUDE_PATH}
	${OpenGL_INCLUDE_DIRS}		
	${PROJECT_SOURCE_DIR}/3rdParty/glm-0.9.6.1
	${PROJECT_SOURCE_DIR}/3rdParty/glew-1.12.0/include
	${PROJECT_SOURCE_DIR}/3rdParty/glimg-0.5.2/include
	${GLFW_INCLUDE_DIRS}
	${assimp_INCLUDE_DIRS}
	${ANTTWEAKBAR_INCLUDE_DIRS}
)

LINK_DIRECTORIES(
	${CMAKE_LIBRARY_PATH}
	${OpenGL_LIBRARY_DIRS}
)

ADD_SUBDIRECTORY(3rdParty/glew-1.12.0)
ADD_SUBDIRECTORY(3rdParty/glimg-0.5.2)
ADD_SUBDIRECTORY(seminar1)
ADD_SUBDIRECTORY(seminar2)
ADD_SUBDIRECTORY(seminar3)
ADD_SUBDIRECTORY(seminar4)
ADD_SUBDIRECTORY(seminar5)
ADD_SUBDIRECTORY(seminar6)

ADD_SUBDIRECTORY(students/123Ivanov)

INSTALL(DIRECTORY ${PROJECT_SOURCE_DIR}/images/ DESTINATION ${CMAKE_INSTALL_PREFIX}/images)
